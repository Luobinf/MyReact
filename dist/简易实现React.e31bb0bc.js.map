{"version":3,"sources":["index.js"],"names":["MyReact","MyReactDOM","render","createElement","tag","attrs","children","name","number","handleClick","e","console","log","htmlDOM","color","vnode","container","append","document","createTextNode","dom","setAttribute","Array","isArray","length","map","vnodeChild","key","test","toLowerCase","Object","assign","style","getElementById"],"mappings":";;AACA,IAAMA,OAAO,GAAG,EAAhB;AAIA,IAAMC,UAAU,GAAG;AACfC,EAAAA,MAAM,EAANA;AADe,CAAnB;;AAKAF,OAAO,CAACG,aAAR,GAAwB,UAASC,GAAT,EAAaC,KAAb,EAAgC;AAAA,oCAAVC,QAAU;AAAVA,IAAAA,QAAU;AAAA;;AACpD,SAAO;AACHF,IAAAA,GAAG,EAAHA,GADG;AAEHC,IAAAA,KAAK,EAALA,KAFG;AAGHC,IAAAA,QAAQ,EAARA;AAHG,GAAP;AAKH,CAND;;AAQA,IAAIC,IAAI,GAAG,gBAAX;AACA,IAAIC,MAAM,GAAG,GAAb;;AAEA,SAASC,WAAT,CAAsBC,CAAtB,EAAyB;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBF,CAAnB;AACH,EAED;;;AACA,IAAIG,OAAO,GACP;AAAK,EAAA,SAAS,EAAE;AAAhB,GACKN,IADL,OACYC,MADZ,EAEI;AAAQ,EAAA,OAAO,EAAEC,WAAjB;AAA8B,EAAA,KAAK,EAAE;AAACK,IAAAA,KAAK,EAAE;AAAR;AAArC,kBAFJ,CADJ;AAOAH,OAAO,CAACC,GAAR,CAAYC,OAAZ;;AAEA,SAASX,MAAT,CAAgBa,KAAhB,EAAsBC,SAAtB,EAAiC;AAC7B,MAAG,OAAOD,KAAP,KAAiB,QAAjB,IAA6B,OAAOA,KAAP,KAAiB,QAAjD,EAA2D;AACvD,WAAOC,SAAS,CAACC,MAAV,CAAiBC,QAAQ,CAACC,cAAT,CAAwBJ,KAAxB,CAAjB,CAAP;AACH;;AACD,MAAG,QAAOA,KAAP,MAAiB,QAApB,EAA8B;AAC1B,QAAIK,GAAG,GAAGF,QAAQ,CAACf,aAAT,CAAuBY,KAAK,CAACX,GAA7B,CAAV;AACAiB,IAAAA,YAAY,CAACD,GAAD,EAAKL,KAAK,CAACV,KAAX,CAAZ;;AACA,QAAGiB,KAAK,CAACC,OAAN,CAAcR,KAAK,CAACT,QAApB,KAAiCS,KAAK,CAACT,QAAN,CAAekB,MAAf,GAAwB,CAA5D,EAA+D;AAC3DT,MAAAA,KAAK,CAACT,QAAN,CAAemB,GAAf,CAAoB,UAAAC,UAAU,EAAI;AAC9BxB,QAAAA,MAAM,CAACwB,UAAD,EAAYN,GAAZ,CAAN;AACH,OAFD;AAGH;;AACDJ,IAAAA,SAAS,CAACC,MAAV,CAAiBG,GAAjB;AACH;AACJ,EAED;;;AACA,SAASC,YAAT,CAAsBD,GAAtB,EAA0Bf,KAA1B,EAAiC;AAC7B,OAAI,IAAIsB,GAAR,IAAetB,KAAf,EAAsB;AAClB,QAAG,MAAMuB,IAAN,CAAWD,GAAX,CAAH,EAAoB;AAChBP,MAAAA,GAAG,CAACO,GAAG,CAACE,WAAJ,EAAD,CAAH,GAAyBxB,KAAK,CAACsB,GAAD,CAA9B;AACH,KAFD,MAEO,IAAGA,GAAG,KAAK,OAAX,EAAoB;AACvBG,MAAAA,MAAM,CAACC,MAAP,CAAcX,GAAG,CAACY,KAAlB,EAAwB3B,KAAK,CAACsB,GAAD,CAA7B;AACH,KAFM,MAEA;AACHP,MAAAA,GAAG,CAACO,GAAD,CAAH,GAAWtB,KAAK,CAACsB,GAAD,CAAhB,CADG,CACqB;AAC3B;AACJ;AACJ;;AAGD1B,UAAU,CAACC,MAAX,CAAkBW,OAAlB,EAA0BK,QAAQ,CAACe,cAAT,CAAwB,MAAxB,CAA1B","file":"简易实现React.e31bb0bc.js","sourceRoot":"..","sourcesContent":["\r\nconst MyReact = {\r\n\r\n}\r\n\r\nconst MyReactDOM = {\r\n    render\r\n}\r\n\r\n\r\nMyReact.createElement = function(tag,attrs,...children) {\r\n    return {\r\n        tag,\r\n        attrs,\r\n        children\r\n    }\r\n}\r\n\r\nlet name = 'hello world!!!'\r\nlet number = 200\r\n\r\nfunction handleClick (e) {\r\n    console.log('事件对象',e)\r\n}\r\n\r\n//JSX会转换成虚拟DOM，虚拟DOM是一个对象，每一个虚拟DOM对象都包含tag，attrs，children属性。\r\nlet htmlDOM = (\r\n    <div className={'wrapper'}>\r\n        {name} {number}\r\n        <button onClick={handleClick} style={{color: 'red'}}>点击</button>\r\n    </div>   \r\n)\r\n\r\nconsole.log(htmlDOM)\r\n\r\nfunction render(vnode,container) {\r\n    if(typeof vnode === 'string' || typeof vnode === 'number') {\r\n        return container.append(document.createTextNode(vnode))\r\n    }\r\n    if(typeof vnode === 'object') {\r\n        let dom = document.createElement(vnode.tag)\r\n        setAttribute(dom,vnode.attrs)\r\n        if(Array.isArray(vnode.children) && vnode.children.length > 0) {\r\n            vnode.children.map( vnodeChild => {\r\n                render(vnodeChild,dom)\r\n            })\r\n        }\r\n        container.append(dom)\r\n    }\r\n}\r\n\r\n//给DOM元素设置属性\r\nfunction setAttribute(dom,attrs) {\r\n    for(let key in attrs) {\r\n        if(/^on/.test(key)) {\r\n            dom[key.toLowerCase()] = attrs[key]\r\n        } else if(key === 'style') {\r\n            Object.assign(dom.style,attrs[key])\r\n        } else {\r\n            dom[key] = attrs[key]   //这样直接赋值的话，style属性和onclick事件就没法绑定,需要做一个判断\r\n        }\r\n    }\r\n}\r\n\r\n\r\nMyReactDOM.render(htmlDOM,document.getElementById('root'))"]}